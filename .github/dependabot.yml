version: 2
updates:
  # JavaScript/TypeScript dependencies (pnpm workspace)
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'monday'
    open-pull-requests-limit: 10
    ignore:
      # Pin @types/node to Node LTS 22.x â€” keep types aligned with engines.node.
      # Bump this when the project intentionally moves to a newer LTS.
      - dependency-name: '@types/node'
        update-types:
          - 'version-update:semver-major'
        versions:
          - '>=25'
    groups:
      # These packages are always released together at the same version
      typescript-eslint:
        patterns:
          - 'typescript-eslint'
          - '@typescript-eslint/*'
      # Vite, its React plugin, and Vitest are tightly coupled across major versions
      vite-ecosystem:
        patterns:
          - 'vite'
          - '@vitejs/*'
          - 'vitest'
          - '@vitest/*'
      # ESLint core and its official packages
      eslint-ecosystem:
        patterns:
          - 'eslint'
          - '@eslint/*'
          - 'eslint-config-*'
          - 'eslint-plugin-*'
      # react and react-dom are from the same monorepo and must always be on
      # the same version; their @types/* packages track them directly
      react-ecosystem:
        patterns:
          - 'react'
          - 'react-dom'
          - '@types/react'
          - '@types/react-dom'
      # socket.io and socket.io-client are the server/client halves of the
      # same library and must be on the same major version (shared protocol)
      socket-io:
        patterns:
          - 'socket.io'
          - 'socket.io-client'

  # GitHub Actions
  - package-ecosystem: 'github-actions'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'monday'
    groups:
      github-actions:
        patterns:
          - '*'
